<div class="modal fade" id="detailsModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body">
      
				  <h4>Tarea<span data-ng-show="vm.elements.updateList.length > 1">s ({{vm.elements.updateList.length}})</span></h4>        
				  
				  <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
				  	<span aria-hidden="true">&times;</span>
				  </button>
				  
				  <div class="row">
				  	<div class="col-sm-12">
				  		<ul class="list-group">
				  			<li class="list-group-item" data-ng-repeat="e in vm.elements.updateList | limitTo : vm.elements.updateListShowQuantity">
				  				<div class="row">
				  					<div class="col-sm-12">
				  						<div class="row">
				  							<div class="col-sm-4">
				  								<strong data-ng-show="e.more">N&uacute;mero de Serie</strong> <span>{{ e.NumeroSerie }}</span>
				  							</div>
				  							<div class="col-sm-4">
				  								<strong data-ng-show="e.more">Queue</strong> <span>{{ e.queue }}</span>
				  							</div>
				  							<div class="col-sm-4">
				  								<div class="btn-group pull-right" >
				  									<button 
											       		class="btn btn-default btn-xs" 
											       		data-ng-click="(e.more) ? e.more = false : e.more = true"
											       		title="Ver m&aacute;s informaci&oacute;n">
											       		<i class="fa fa-plus" data-ng-show="!e.more"></i>
											       		<i class="fa fa-minus" data-ng-show="e.more"></i>
											       	</button>
				  									<a href="{{e.trackerUrl}}" target="_blank" class="btn btn-default btn-xs" title="Ver Tracker">
										      			<i class="fa fa-area-chart"></i>
										      		</a>
										      		<a href="{{e.planillaUrl}}" target="_blank" class="btn btn-default btn-xs" title="Ver Planilla">
											      		<i class="fa fa-file-text"></i>
											      	</a>
				  								</div>
				  							</div>
				  						</div>
				  					</div>
				  					<div class="col-sm-12" data-ng-show="e.more">
				  						<table class="table table-striped table-bordered table-condensed table-col-2 separate-20-0">
						      	<tr >
						      		<th>A&ntilde;o</th>
						      		<td>{{ e.taxYear }}</td>
						      	</tr>
						      	<tr>						      		
						      		<th>Formato</th>
						      		<td>{{ e.Formato }}</td>
						      	</tr>
						      	<tr>
						      		<th>Usuario</th>
						      		<td>{{ e.user }}</td>
						      	</tr>
						      	<tr>
						      		<th>Fecha de Comienzo</th>
						      		<td>{{ e.F_StartTime }}</td>
						      	</tr>
						      	<tr>
						      		<th>Prorroga</th>
						      		<td>{{ e.Prorroga }}</td>
						      	</tr>
						      	<tr>
						      		<th>Sensitiva</th>
						      		<td>{{ e.Sensitiva }}</td>
						      	</tr>
						      	<tr>
						      		<th>PEL</th>
						      		<td>
						      			<span data-ng-if="e.PEL == 'false'">NO</span>
										<span data-ng-if="e.PEL != 'false'">SI</span>
						      		</td>
						      	</tr>
						      	<tr>
						      		<th>Active Workflow</th>
						       		<td>{{ e.ActiveWorkflow }}</td>
						      	</tr>      	
						        <tr>
						        	<th>Wob Number</th>
						       		<td>{{ e.F_WobNum }}</td>
						      	</tr>
						      	<tr>
						       		<th>Work Class Id</th>
						       		<td>{{ e.F_WorkClassId }}</td>
						        </tr>
						       	<tr>
						       		<th>Originator</th>
						       		<td>{{ e.F_Originator }}</td>
						      	</tr>
						      	<tr>
						       		<th>Workflow Number</th>
						       		<td>{{ e.F_WorkFlowNumber }}</td>
						       	</tr>
						       	<tr>
						        	<th>Subject</th>
						        	<td>{{ e.F_Subject }}</td>
						      	</tr>
						      	<tr>
						       		<th>Tag </th>
						       		<td>{{ e.F_Tag }}</td>
						       	</tr>
						       	<tr>
						        	<th>Server Id</th>
						       		<td>{{ e.F_ServerId }}</td>
						      	</tr>
						      	<tr>
						       		<th>Tracker Status</th>
						       		<td>{{ e.F_TrackerStatus }}</td>
						       	</tr>
						   	</table>
				
				  					</div>
				  				</div>
				  			</li>
				  		</ul>
				  		
				  		<button 
				  			class="btn btn-default btn-xs btn-attached-20 pull-right" 
				  			data-ng-if="vm.elements.updateList.length > 5"
				 			data-ng-click="(vm.elements.updateListShowQuantity == 5) ? vm.elements.updateListShowQuantity = vm.elements.updateList.length : vm.elements.updateListShowQuantity = 5">
				  				<span data-ng-show="vm.elements.updateListShowQuantity == 5"><i class="fa fa-chevron-down"></i> Ver M&aacute;s</span>
				  				<span data-ng-show="vm.elements.updateListShowQuantity > 5"><i class="fa fa-chevron-up"></i> Ver Menos</span>
				  		</button>
				  		
				  	</div>
				  </div>
				  
				  <div class="row">
				  	<div class="col-sm-12">
				  		
				  		<div class="text-center separate-20-20" data-ng-if="vm.users.loading">
				  			<i class="fa fa-cog fa-spin"></i> <span>Cargando usuarios</span>
				  		</div>
				  		
				  		<div data-ng-if="vm.users.error" class="alert alert-danger separate-20-0">
							<div class="row">
								<div class="col-sm-1 text-center"><i class="fa fa-exclamation-circle fa-4x"></i></div>
								<div class="col-sm-11">
									<h4>Lo sentimos</h4>
									<p>
										No se pudo obtener informaci&oacute;n en estos momentos. Por favor intentelo m&aacute;s tarde.
									</p>
								</div>
							</div>
						</div>
				  		
				  		<div class="panel panel-default" data-ng-if="!vm.users.loading">
				  			<div class="panel-body">
				  				<form class="row" data-ng-submit="vm.modal.element.assign.set()">
				  					<div class="col-sm-12">
				  						<p class="text-center">
				  							Para asignar y/o re asignar esta<span data-ng-show="vm.elements.updateList.length > 1">s</span> tarea<span data-ng-show="vm.elements.updateList.length > 1">s</span>, puede buscar un usuario en el encasillado.
				  						</p>
				  					</div>
				  					<div class="col-sm-8">
							  			<div 
											id="user"
											data-angucomplete-alt
							            	data-placeholder="Buscar Usuarios"
								           	data-selected-object="vm.modal.element.assign.user"
								          	data-local-data="vm.users.list"
								           	data-search-fields="value"
							          		data-title-field="value"
							          		data-minlength="1"
							            	data-match-class="highlight"
							              	data-input-class="form-control">
								        </div>
				  					</div>
				  					<div class="col-sm-4">
							      		<button class="btn btn-primary btn-block" type="submit" data-ng-disabled="vm.modal.element.assign.loading">
							      			<i class="fa fa-pencil" data-ng-show="!vm.modal.element.assign.loading"></i> 
							      			<i class="fa fa-cog fa-spin" data-ng-show="vm.modal.element.assign.loading"></i> 
							      			<span>Asignar Tarea<span data-ng-show="vm.elements.updateList.length > 1">s</span></span>
							      		</button>
				  					</div>
				  					
				  					<div class="col-sm-12 separate-20-0" data-ng-if="vm.modal.element.assign.success">
				  						<div class="alert alert-success">
				  							<p>La<span data-ng-show="vm.elements.updateList.length > 1">s</span>
				  							 tarea<span data-ng-show="vm.elements.updateList.length > 1">s</span>
				  							  fue<span data-ng-show="vm.elements.updateList.length > 1">ron</span>
				  							  asignada<span data-ng-show="vm.elements.updateList.length > 1">s</span> correctamente.</p>
				  						</div>
				  					</div>
				  									  					
				  					<div class="col-sm-12 separate-20-0" data-ng-if="vm.modal.element.assign.noUser">
				  						<div class="alert alert-danger">
				  							<p>El usuario es requerido.</p>
				  						</div>
				  					</div>
				  					
				  					<div class="col-sm-12 separate-20-0" data-ng-if="vm.modal.element.assign.error">
				  						<div class="alert alert-danger">
				  							<p>Lo Sentimos, hubo un error asignando esta<span data-ng-show="vm.elements.updateList.length > 1">s</span> 
				  							tarea<span data-ng-show="vm.elements.updateList.length > 1">s</span>. 
				  							Por favor, intentelo m&aacute;s tarde.</p>
				  						</div>
				  					</div>
				  				</form>
				  			</div>
				  		</div>
				  	</div>
				  </div>
				
				  <div class="row separate-0-20">
				  	<div class="col-sm-4">
				  		<button 
				  			class="btn btn-primary btn-block" 
				  			data-ng-disabled="vm.modal.element.unlock.loading"
				  			data-ng-click="vm.modal.element.unlock.set()">
				  			<i class="fa fa-unlock fa-2x" data-ng-show="!vm.modal.element.unlock.loading"></i>
				  			<i class="fa fa-cog fa-spin fa-2x" data-ng-show="vm.modal.element.unlock.loading"></i> 
				  			<br />
				  			<span>Desbloquear Tarea<span data-ng-show="vm.elements.updateList.length > 1">s</span></span>
				  		</button>
				  	</div>
				  	<div class="col-sm-4">
				  		<button class="btn btn-primary btn-block">
				   		<i class="fa fa-check fa-2x"></i>
				   		<br />
				   		<span>Completar Tarea<span data-ng-show="vm.elements.updateList.length > 1">s</span></span>
				  		</button>
				  	</div>
				  	<div class="col-sm-4">
				  		<button class="btn btn-primary btn-block">
				  			<i class="fa fa-undo fa-2x"></i>
				  			<br />
				  			<span>Devolver Tarea<span data-ng-show="vm.elements.updateList.length > 1">s</span></span>
				  		</button>
				  	</div>
				  </div>
				       
				  <div class="row separate-20-0" data-ng-if="vm.modal.results.success || vm.modal.results.error">
				  	<div class="col-sm-12">
				  		<div class="alert" data-ng-class="{ 'alert-success' : vm.modal.results.success, 'alert-danger' : vm.modal.results.error }">
				  			<p>{{vm.modal.results.msg}}</p>
				  		</div>
				  	</div>
				  </div>
				       
				  <div class="modal-footer">
			    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
			  </div>
			
			</div>
  		</div>
	</div>
</div>
